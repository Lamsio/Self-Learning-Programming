## 生成树
![[Pasted image 20220603150943.png]]
![[Pasted image 20220603151123.png]]

上面两图可以很容易看到问题所在，当发送源发出一个帧时，交换机会查看目的MAC是否在MAC表中，如果不在就以广播形式泛洪。
Switch A泛洪给B，B由于也没有目标的MAC，因此又开始泛洪，帧又回到了A，循环往复，陷入死循环了，这将会耗尽Swtich的所有资源。

如果发生网络十分卡顿，ping包丢失率极高，意味着可能发生了广播风暴

![[Pasted image 20220603151949.png]]

另一个问题是多帧复制，A广播后得到目标反馈，因此也有了目标的MAC地址，此时由于延迟原因，B刚收到A发出的广播，由于B没有目标的MAC，因此也会广播，此时目标会再一次收到帧，这意味着明明发送源只发送一次，目标却收到两次请求，而且当A收到B的广播时，会根据自己的MAC表再一次将请求发给目标，这会导致第三次请求。

![[Pasted image 20220603152541.png]]
常见于攻击，由于交换机MAC地址表是有限的，因此攻击者可以持续发送伪装IP的数据包让交换机每次收到都泛洪，从而填满MAC表使其无法添加新的MAC

#### 解决环路问题
解决环路的最好方法就是断开环路某一路的连接，从而打破闭环（实际情况下不可能总叫一个人蹲在交换机旁边拔线）。生成树协议则恰好能解决这种问题，该协议能够通过特定方式判断该软中断哪一条线路