## 交换基础 VLAN TRUNK VTP

#### 园区网结构
![[Pasted image 20220601154135.png]]

#### 交换机
功能：
- 学习地址 : MAC地址，交换机学习完地址后会构成一张MAC表，交换机根据这张MAC地址表进行数据转发。注意，MAC表在断电后会被清空
- 转发与过滤 : 二层转发，当交换机收到一个帧时，会根据数据头的MAC地址从MAC地址表中查找对应的去处
- 环路的避免

###### 工作原理
在交换机开机时，内置MAC表为空，假设现在有ABCD四台设备接入交换机。在一开始，假设只有A被录入MAC地址表中。

|  接口   | MAC地址  |
|  ----  | ----  |
| int0/0  | MAC-A |
| #  | # |

此时，A打算发消息给D，由于MAC地址表中没有D的信息，因此交换机会采取**泛洪**策略，即广播给所有接入设备。BC在拆包后发现不是给自己的，就会丢弃，而D会继续拆包。由于通信是双向的，因此D需要回复A告知其接收到了包，在D发送给A的过程中，经过交换机时，D的MAC信息也会被录入。此时表会变为

|  接口   | MAC地址  |
|  ----  | ----  |
| int0/0  | MAC-A |
| int0/1  | MAC-D |

#### MAC地址
![[Pasted image 20220601160124.png]]

#### VLAN
![[Pasted image 20220601162419.png]]
![[Pasted image 20220601195916.png]]
Static: 手动分配交换机固定端口作为VLAN
Dynamic: 根据接入设备的MAC地址，动态将端口分配给VLAN

#### Trunk
一条链路，需要承载多个VLAN信息时，需要用Trunk实现，一般jian