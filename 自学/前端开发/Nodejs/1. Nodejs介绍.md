## Nodejs介绍

#### 背景

近年来，浏览器给网站发送请求的过场一直没怎么变过。

当浏览器给网站发送请求，服务器接收到了请求然后开始检索请求的资源，并最终将结果返回给浏览器。

在传统的web服务器中(Apache)，每一个请求都会让服务器创建一个新的进程来处理这个请求。

后来有了Ajax后，我们不再需要通过刷新页面获取新数据，这对于社交性网站而言收益很大，可以即时更新好友的动态。但要实现该需求，我们需要让用户与服务器一直保持一个有效连接，最简单的方式就是通过长轮询(long polling)

HTTP请求不是持续性连接，请求一次，服务器响应一次，然后就会断开连接。长轮询则是模拟持续连接的方式，只要页面载入了，不管你需不需要服务器给你响应信息，浏览器都会间隔性地向服务器发送Ajax请求，从而实现保持通讯。

但长轮询的问题是极其占用服务器资源，就以Apache为例，每次都要单独开一个进程处理请求，若不及时关闭，可能会耗尽服务器资源进而瘫痪！

为解决以上情况，我们引入了**非阻塞**和**事件驱动**。

非阻塞即将服务器想象成一个loop循环，这个loop会一直运行，每当有个新请求，这个loop就接了这个请求，并把该请求传给其他进程，然后响应一个回调。完事后，这个loop继续运行，接其他请求